<!DOCTYPE html>
<html>
<head>
<title>SpellingWordGame</title>
</head>

<body>
<h1 id="header1">The Spelling Word Game</h1>

<p id="p1">This is the SpellingWordGame, and it means business. Well, really it means education, or more literally it means that it is a game for spelling words... I will start again. This is the SpellingWordGame, and you will have to guess what word I'm thinking of! There, got it that time. Anyway, you give me ten words, then I pick one at random. Then you have to guess what word I'm thinking of. Get it right, and you win. Get it wrong, and I start killing hostages. Kidding! I take points away. Lose all your points, <b>then</b> I kill the hostages. So, get to it!<br></p>

<h2 id="header2">And so the game...</h2>
<p id="p2">Fill in your words by pressing this button: 
<button id="enterButton" onclick="enterWords()">Enter words</button></p>
<p id="dispWord"></p> <!-- Modified by startGame() -->
<p id="playArea"></p> <!-- Modified by startGame() -->
<p id="verdict"></p> <!-- Modified by enterGuess() -->
<div id="highScore" style="position: absolute; bottom: 0px;"></div>

<script>
var LENGTH = 10; //const to set word list length
var score = 500; //initial score per round.
var sessionRecord = 0; //session record
var wordList = [] //contains spelling words
var targetWord; //contains the word randomly chosen
var guessWord; //contains current guess
var wordSection = document.getElementById("dispWord"); //short cut to work with dispWord
var playSection = document.getElementById("playArea"); //short cut to work with playArea
var verdictSection = document.getElementById("verdict"); //short cut to work with verdict
var gButtonString = "<button id=\"guessButton\" onclick=\"enterGuess()\">Enter guess</button>"; //save html button code for guess button
var nButtonString = "<button id=\"newGameButton\" onclick=\"startGame()\">Same words?</button>"; // html button code for new game button
var eButtonString = "<button id=\"enterButton\" onclick=\"enterWords()\">Enter words</button>"; //save html button code for enter button

function enterWords () {
	//prompts user for LENGTH words to fill wordList
	for (var i=0; i<LENGTH; ++i) {
		wordList[i]=prompt("Enter word number " + (i+1)).toLowerCase();
	}
	
	startGame();
}

function startGame() {
	
	score = 500;
	targetWord = wordList[Math.floor(Math.random()*wordList.length)]; //picks a target word randomly
	wordSection.innerHTML=""; //clears dispWord
	verdictSection.innerHTML=""; //clears verdict
	//prints wordList
	for (var j=0; j<wordList.length; ++j) {
		wordSection.innerHTML += (1+j) + "): " + wordList[j]+"<br>";

	}
	document.getElementById("enterButton").disabled=true; //disables enterButton

	playSection.innerHTML = "Make your guess, if you dare! " + gButtonString;
}

function enterGuess () {
	guessWord = prompt("Which word am I thinking of?").toLowerCase();
	if (wordList.indexOf(guessWord)<0) {
		alert("You either spelled your guess wrong, or didn't pick a word off the list. Fie upon you!");
	}
	else if ((wordList.indexOf(guessWord) - wordList.indexOf(targetWord)) > 0 ) {
		verdict.innerHTML = "<b>" + guessWord + "</b>? Nope! You'll want to guess higher up on the list if you want to save those hostages...";
	}
	else if ((wordList.indexOf(guessWord) - wordList.indexOf(targetWord)) < 0 ) {
		verdict.innerHTML = "<b>" + guessWord + "</b>? Nope! You'll want to guess further down on the list if you want to save those hostages...";
	}
	else {
		verdict.innerHTML = "What the... You guessed " + targetWord + "! That was my word! You scored " + score + "! Did you cheat? How did you cheat?! I dare you to play again! " + nButtonString
		document.getElementById("enterButton").disabled=false;
		if (score > sessionRecord) sessionRecord = score;
		document.getElementById("highScore").innerHTML="High score for this session is " + sessionRecord + ".";
		return;
	}
	score -= 50;
}
</script>
</body>
</html>
